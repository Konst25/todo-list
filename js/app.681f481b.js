(function(){"use strict";var e={3371:function(e,t,o){var l=o(9242),s=o(3396);const n={class:"app"},a={class:"header"},i=(0,s._)("div",{class:"logo"},"ToDo list",-1),r=(0,s._)("div",{class:"user"},"User",-1),c={key:0},d={class:"work__space"},u=["show"],p=(0,s._)("h2",null,"Создайте или выберите рабочий проект",-1),m=[p];function h(e,t,o,p,h,f){const g=(0,s.up)("my-select"),_=(0,s.up)("my-button"),k=(0,s.up)("column-item"),v=(0,s.up)("work-space"),b=(0,s.up)("my-dialog");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("header",a,[i,(0,s.Wm)(g,{modelValue:h.selectedProject,"onUpdate:modelValue":t[0]||(t[0]=e=>h.selectedProject=e),projects:h.projects,onChange:f.handleChangeOption},null,8,["modelValue","projects","onChange"]),(0,s.Wm)(_,{class:"create__btn",onClick:f.selCreate},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать")])),_:1},8,["onClick"]),r]),h.selectedProject?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(v,{selectedProjectSpace:h.selectedProjectSpace,onRemove:f.removeProject},{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Wm)(k,{selectedProjectSpace:h.selectedProjectSpace,selectedColumn:e.selectedColumn,onRemove:f.removeColumn},null,8,["selectedProjectSpace","selectedColumn","onRemove"])])])),_:1},8,["selectedProjectSpace","onRemove"])])):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"no__project",show:h.dialogVisible_3=!1},m,8,u)),(0,s.Wm)(b,{show:h.dialogVisible,"onUpdate:show":t[2]||(t[2]=e=>h.dialogVisible=e),class:"sel"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"sel__btn",onClick:f.openForm_1},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать рабочий проект")])),_:1},8,["onClick"]),(0,s.Wm)(_,{show:h.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>h.dialogVisible=e),onClick:f.openForm_2,style:{"margin-top":"10px"},class:"sel__btn"},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать колонку")])),_:1},8,["show","onClick"])])),_:1},8,["show"]),(0,s.Wm)(b,{show:h.dialogVisible_2,"onUpdate:show":t[4]||(t[4]=e=>h.dialogVisible_2=e),class:"sel"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.titleProject=t),type:"text",placeholder:"Название проекта",class:"sel__input"},null,512),[[l.nr,e.titleProject]]),(0,s.Wm)(_,{class:"sel__btn",onClick:f.createWorkProject},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать")])),_:1},8,["onClick"])])),_:1},8,["show"]),(0,s.Wm)(b,{show:h.dialogVisible_3,"onUpdate:show":t[6]||(t[6]=e=>h.dialogVisible_3=e),class:"sel"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>h.columnTitle=e),type:"text",placeholder:"Название колонки",class:"sel__input"},null,512),[[l.nr,h.columnTitle]]),(0,s.Wm)(_,{class:"sel__btn",onClick:f.createColumn},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать")])),_:1},8,["onClick"])])),_:1},8,["show"])])}o(560);var f=o(7139);const g=["onDrop"],_={class:"column__title"},k=["onClick"],v=["onClick"];function b(e,t,o,n,a,i){const r=(0,s.up)("column-task"),c=(0,s.up)("my-button"),d=(0,s.up)("my-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedProjectSpace.columns,((o,n)=>((0,s.wg)(),(0,s.iD)("div",{class:"column",key:n,onDragover:t[1]||(t[1]=(0,l.iM)((()=>{}),["prevent"])),onDrop:e=>i.onDrop(e,n)},[(0,s._)("div",_,[(0,s._)("button",{class:"column__title_btn",onClick:e=>i.openTaskForm(o)},"✎",8,k),(0,s._)("h3",null,(0,f.zw)(o.title),1),(0,s._)("button",{class:"column__title_btn",onClick:t=>e.$emit("remove",o)},"✖",8,v)]),a.selectedColumn?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.tasks,((e,o)=>((0,s.wg)(),(0,s.j4)(r,{key:o,task:e,draggable:a.draggable,onDragstart:e=>i.onDragStart(e,n,o),onDragover:t[0]||(t[0]=(0,l.iM)((()=>{}),["prevent"])),onDrop:e=>i.onTaskDrop(e,n,o),onDragenter:e=>i.onDragEnter(e,n,o)},null,8,["task","draggable","onDragstart","onDrop","onDragenter"])))),128)):(0,s.kq)("",!0)],40,g)))),128)),(0,s.Wm)(d,{show:a.dialogVisible_4,"onUpdate:show":t[4]||(t[4]=e=>a.dialogVisible_4=e),class:"sel"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.taskTitle=t),type:"text",placeholder:"Название задачи",class:"sel__input"},null,512),[[l.nr,e.taskTitle]]),(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.taskDescr=t),id:"",cols:"30",rows:"10",class:"sel__input"},null,512),[[l.nr,e.taskDescr]]),(0,s.Wm)(c,{class:"sel__btn",onClick:i.createTask},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать")])),_:1},8,["onClick"])])),_:1},8,["show"])],64)}const w={class:"task",draggable:"true"};function j(e,t,o,l,n,a){return(0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("h4",null,(0,f.zw)(o.task.title),1),(0,s._)("p",null,(0,f.zw)(o.task.descr),1)])}var C={props:{task:{type:Object,default:null},draggable:{type:Boolean}},data(){return{}},methods:{}},D=o(89);const y=(0,D.Z)(C,[["render",j]]);var T=y,V={components:{ColumnTask:T},props:{selectedProjectSpace:{type:Object,default:null},selectedColumn:{type:Object,default:null}},data(){return{dialogVisible_4:!1,selectedColumn:null,draggable:!1,draggetTask:null,draggetColumn:null}},methods:{openTaskForm(e){this.selectedColumn=e,this.dialogVisible_4=!0},createTask(){this.dialogVisible_4=!1;const e={id:Date.now(),title:this.taskTitle,descr:this.taskDescr};this.selectedColumn.tasks.push(e),this.taskTitle="",this.taskDescr=""},onDragStart(e,t,o){e.dataTransfer.setData("fromColumnIndex",t),e.dataTransfer.setData("fromTaskIndex",o),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAlloved="move"},onDrop(e,t){const o=this.selectedProjectSpace.columns,l=(this.selectedColumn.tasks,e.dataTransfer.getData("fromColumnIndex")),s=e.dataTransfer.getData("fromTaskIndex");if(null!==l&&null!==s){const e=o[l].tasks.splice(s,1)[0];if(!e)return;o[t].tasks.push(e)}},onTaskDrop(e,t,o){this.selectedColumn.tasks;const l=this.selectedProjectSpace.columns,s=e.dataTransfer.getData("fromColumnIndex"),n=e.dataTransfer.getData("fromTaskIndex");if(null!==s&&null!==n){const e=l[s].tasks[n];if(!e)return;s===t?l[t].tasks.splice(o,0,l[t].tasks.splice(n,1)[0]):(l[s].tasks.splice(n,1),l[t].tasks.splice(o,0,e))}},onDragEnter(e){e.dataTransfer.dropEffect="move",e.preventDefault()}}};const P=(0,D.Z)(V,[["render",b]]);var S=P;const O={class:"main"},W={class:"main__block"},U={class:"main__title"};function x(e,t,o,l,n,a){return(0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("div",W,[(0,s._)("h2",U,(0,f.zw)(o.selectedProjectSpace?o.selectedProjectSpace.name:"Выберите проект"),1),(0,s._)("button",{class:"main__btn",onClick:t[0]||(t[0]=t=>e.$emit("remove",o.selectedProjectSpace))},"✖")]),(0,s.WI)(e.$slots,"default")])}var I={props:{selectedProjectSpace:{type:Object,default:null}}};const F=(0,D.Z)(I,[["render",x]]);var Z=F,$={components:{ColumnItem:S,WorkSpace:Z},data(){return{dialogVisible:!1,dialogVisible_2:!1,dialogVisible_3:!1,selectedProject:"",selectedProjectSpace:null,draggable:!1,projects:[],columnItems:[{id:1,title:"Колонка 1",tasks:[]},{id:2,title:"Колонка 2",tasks:[]},{id:3,title:"Колонка 3",tasks:[]}],ColumnTasks:[{id:1,title:"Задача 1",descr:"Описание 1"},{id:2,title:"Задача 2",descr:"Описание 2"},{id:3,title:"Задача 3",descr:"Описание 3"}],columnTitle:"",taskTitle:"",taskDescr:""}},computed:{},methods:{handleTaskChange(e){console.log(e)},selCreate(){this.dialogVisible=!0},openForm_1(){this.dialogVisible=!1,this.dialogVisible_2=!0},openForm_2(){this.dialogVisible=!1,this.dialogVisible_3=!0},createWorkProject(){const e={id:Date.now(),name:this.titleProject,value:"",columns:[]};this.projects.push(e),this.dialogVisible_2=!1,this.titleProject=""},handleChangeOption(e){const t=parseInt(e.target.value);this.selectedProjectSpace=this.projects.find((e=>e.id===t))},removeProject(e){this.projects=this.projects.filter((t=>t.id!==e.id)),this.selectedProject=""},createColumn(){const e={id:Date.now(),title:this.columnTitle,tasks:[]};this.selectedProjectSpace.columns.push(e),this.dialogVisible_3=!1,this.columnTitle=""},removeColumn(e){this.selectedProjectSpace.columns=this.selectedProjectSpace.columns.filter((t=>t.id!==e.id))}}};const E=(0,D.Z)($,[["render",h]]);var z=E;const M={class:"btn"};function H(e,t,o,l,n,a){return(0,s.wg)(),(0,s.iD)("button",M,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}var R={name:"my-button"};const Y=(0,D.Z)(R,[["render",H],["__scopeId","data-v-eb5ceb1e"]]);var K=Y;function q(e,t,o,n,a,i){return o.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=(0,l.iM)(((...e)=>i.hideDialog&&i.hideDialog(...e)),["stop"]))},[(0,s._)("form",{class:"dialog__content",onClick:t[0]||(t[0]=(0,l.iM)((()=>{}),["stop"]))},[(0,s.WI)(e.$slots,"default")])])):(0,s.kq)("",!0)}var A={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const B=(0,D.Z)(A,[["render",q]]);var G=B;const J=e=>((0,s.dD)("data-v-078b59df"),e=e(),(0,s.Cn)(),e),L=["value"],N=J((()=>(0,s._)("option",{disabled:"",value:""},"Выберите рабочий проект ",-1))),Q=["value"];function X(e,t,o,l,n,a){return(0,s.wg)(),(0,s.iD)("select",{value:o.modelValue,onInput:t[0]||(t[0]=e=>o.modelValue=e.target.value),onChange:t[1]||(t[1]=(...e)=>a.handleChangeOption&&a.handleChangeOption(...e)),class:"select"},[N,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.projects,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.value,value:e.id},(0,f.zw)(e.name),9,Q)))),128))],40,L)}var ee={name:"my-select",props:{modelValue:{type:String},projects:{type:Array,default:()=>[]}},methods:{handleChangeOption(e){this.$emit("update:modelValue",e.target.value)}}};const te=(0,D.Z)(ee,[["render",X],["__scopeId","data-v-078b59df"]]);var oe=te,le=[K,G,oe];const se=(0,l.ri)(z);le.forEach((e=>{se.component(e.name,e)})),se.mount("#app")}},t={};function o(l){var s=t[l];if(void 0!==s)return s.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,l,s,n){if(!l){var a=1/0;for(d=0;d<e.length;d++){l=e[d][0],s=e[d][1],n=e[d][2];for(var i=!0,r=0;r<l.length;r++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](l[r])}))?l.splice(r--,1):(i=!1,n<a&&(a=n));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,n,a=l[0],i=l[1],r=l[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(r)var d=r(o)}for(t&&t(l);c<a.length;c++)n=a[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(3371)}));l=o.O(l)})();
//# sourceMappingURL=app.681f481b.js.map